import{P as he,a as xe,V as ce,f as ye,b as Ue,v as J,u as be}from"./index-DVcZB_95.js";import{getSingletonHighlighter as Ee}from"./index-CS_o8frl.js";import{t as Q}from"./index-CAVF9NB8.js";function Ce(e,t){return he.parse(e,t)}function Ie(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const s=he.getFragmentParser(e,n);return s.tokenizer.write(t,!0),s.getFragment()}var X={exports:{}},se;function Ne(){return se||(se=1,(function(e,t){function n(s){let i=[],a;for(let r of s.split(",").map(c=>c.trim()))if(/^-?\d+$/.test(r))i.push(parseInt(r,10));else if(a=r.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[c,d,o,p]=a;if(d&&p){d=parseInt(d),p=parseInt(p);const l=d<p?1:-1;(o==="-"||o===".."||o==="â€¥")&&(p+=l);for(let m=d;m!==p;m+=l)i.push(m)}}return i}t.default=n,e.exports=n})(X,X.exports)),X.exports}var Ae=Ne();const ne=xe(Ae),ve={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},Me="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",we=/-[a-z]/g,Se=/%c(?:([-+])(\d+))?/g,Oe=/%x/g,Le={2:!0,1:!1,0:null},De={};function Te(e,t){const n=t||De,s=n.onerror,i=e instanceof ce?e:new ce(e),a=n.fragment?Ie:Ce,r=String(i),c=a(r,{sourceCodeLocationInfo:!0,onParseError:n.onerror?d:null,scriptingEnabled:!1});return ye(c,{file:i,space:n.space,verbose:n.verbose});function d(o){const p=o.code,l=ke(p),m=n[l],x=m??!0,u=typeof x=="number"?x:x?1:0;if(u){const y=ve[l],f=new Ue(I(y.reason),{place:{start:{line:o.startLine,column:o.startCol,offset:o.startOffset},end:{line:o.endLine,column:o.endCol,offset:o.endOffset}},ruleId:p,source:"hast-util-from-html"});i.path&&(f.file=i.path,f.name=i.path+":"+f.name),f.fatal=Le[u],f.note=I(y.description),f.url=y.url===!1?void 0:Me+p,s(f)}function I(y){return y.replace(Se,f).replace(Oe,M);function f(U,E,S){const N=(S?Number.parseInt(S,10):0)*(E==="-"?-1:1),g=r.charAt(o.startOffset+N);return Pe(g)}function M(){return Re(r.charCodeAt(o.startOffset))}}}}function ke(e){return e.replace(we,He)}function He(e){return e.charAt(1).toUpperCase()}function Pe(e){return e==="`"?"` ` `":e}function Re(e){return"0x"+e.toString(16).toUpperCase()}function je(e){const t=this,{emitParseErrors:n,...s}={...t.data("settings"),...e};t.parser=i;function i(a,r){return Te(a,{...s,onerror:n?function(c){r.path&&(c.name=r.path+":"+c.name,c.file=r.path),r.messages.push(c)}:void 0})}}function W(e){return e?Object.hasOwn(e,"tokenColors"):!1}function w(e){return e?e.type==="element":!1}function $(e){return e?e.type==="text":!1}function ae(e,t,n=!1){return n?!1:e.tagName==="code"&&w(t)&&t.tagName!=="pre"||e.tagName==="inlineCode"}function oe(e){return e.tagName==="pre"&&Array.isArray(e.children)&&e.children.length===1&&w(e.children[0])&&e.children[0].tagName==="code"}function pe(e,t){let s=e.replace(/\\\\/g,"\0");return s=s.replace(/\\({:[a-zA-Z.-]+})$/,"$1"),s.match(/{:([a-zA-Z.-]+)}$/)?.[1]?.replace(new RegExp("\0","g"),"\\")||t}function de(e,t,n){let s=t(e.data?.meta??e.properties?.metastring??"");const i=s.match(/title="([^"]*)"/),a=i?.[1]??null;s=s.replace(i?.[0]??"","");const r=s.match(/caption="([^"]*)"/),c=r?.[1]??null;s=s.replace(r?.[0]??"","");let d=n;return e.properties&&Array.isArray(e.properties.className)&&typeof e.properties.className[0]=="string"&&e.properties.className[0].startsWith("language-")&&(d=e.properties.className[0].replace("language-","")),{title:a,caption:c,lang:d,meta:s}}function ge(e){return W(e)?[e.name]:typeof e=="string"?[e]:Object.values(e).map(t=>typeof t=="string"?t:t.name)}function le(e){if(Array.isArray(e.properties?.className)&&e.properties.className.includes("line")){const t=e.properties.className.filter(n=>n!=="line");e.properties.className=t.length>0?t:void 0,e.properties["data-line"]=""}}function $e(e,t){const n=t.match(/\{[^}]+\}#[a-zA-Z0-9]+/g);if(!n)return null;for(const s of n){const[i,a]=s.split("#");if(!(i&&a))continue;const c=i.match(/\{(.*?)\}/)?.[1];if(c&&ne(c).includes(e))return a}return null}function qe({elements:e,elementToWrap:t,innerString:n,rightString:s,leftString:i,rest:a,nextElementContinues:r,index:c,ignoreChars:d}){if(w(t)&&t.children?.[0]?.type!=="text"||d)return[t,c];let o=c;const p=t.children[0];$(p)&&(p.value=n);let l=s;const m=i;return a.length>0&&(l+=a.map(x=>x===""?n:n+x).join("")),m.length>0&&e.splice(o,0,{...t,properties:{...t.properties},children:[{type:"text",value:m}]}),l.length>0&&!r&&(o=m.length>0?o+2:o+1,e.splice(o,0,{...t,properties:{...t.properties},children:[{type:"text",value:l}]})),[t,c+1]}function G({elements:e,nextIndex:t,remainingPart:n}){if(n==="")return!1;const s=e[t],i=Z(s);if(!i)return!1;const a=i.startsWith(n)||n.startsWith(i);return Y(i,n)===n&&i.startsWith(n)?!0:a?G({elements:e,nextIndex:t+1,remainingPart:n.replace(i,"")}):!1}function Z(e){if(e)return Q(e)}function Y(e,t){return t.length===0?"":e.endsWith(t)||e.indexOf(t)>=0?t:Y(e,t.substring(0,t.length-1))}function te(e){return e.split("").reverse().join("")}function Be(e,t,n=0,s=!1){const i=[];let a="";if(e.children){const r=e.children;for(let c=n;c<r.length;c++){const d=a?t.replace(a,""):t;if(d==="")return i;const o=r[c];if(!o||o.type!=="element"||Object.hasOwn(o.properties??{},"rehype-pretty-code-visited"))continue;const p=Z(o)||"";if(p===t||a+p===t)return i.push({element:o,index:c}),i;if(t.startsWith(a+p)&&G({elements:r,nextIndex:c+1,remainingPart:d.replace(p,"")})){i.push({element:r[c],index:c}),a+=p;continue}const l=Y(p,d);if(l&&d.startsWith(l)){const x=d.replace(l,"");if(x!==""&&Z(r[c+1])&&!G({elements:r,nextIndex:c+1,remainingPart:x}))continue;const u=p.split(l),[I,y,...f]=u;if(y||I||f.length>0){const M=p+(Z(r[c+1])?Z(r[c+1]):""),U=Y(M,d),E=M.indexOf(U);if(t.endsWith(l)||t.startsWith(l)){const S=y.replace(l,""),N=l,g=p.substring(0,E),q=G({elements:r,nextIndex:c+1,remainingPart:x}),[B,C]=qe({elements:r,elementToWrap:r[c],innerString:N,rightString:S,leftString:g,rest:f,nextElementContinues:q,index:c,ignoreChars:s});a+=l,i.push({element:B,index:C})}}}}}return i}function Fe(e,t,n,s,i){if(!t||t.length===0)return;const[{element:a}]=t;if(s){a.properties&&(a.properties["rehype-pretty-code-visited"]="");return}if(t.length>1){e.children.splice(t[0].index,t.length,{type:"element",tagName:"mark",properties:{"data-highlighted-chars-mark":""},children:t.map(({element:o})=>o)});const r=e.children[t[0].index];if(!w(r))return;const c=r.children.reduce((o,p)=>{const l=w(p)?p.children[0]:null;return $(l)?o+l.value:o},""),d=n.idsMap.get(c);r.properties=r.properties||{},r.properties["data-highlighted-chars"]="",r.properties["data-chars-id"]=d,r.tagName="mark",i?.(r,d)}else{const[{element:r}]=t,c=r.children[0];if(!$(c))return;const d=n.idsMap.get(c.value);r.properties=r.properties||{},r.properties["rehype-pretty-code-visited"]="",r.properties["data-highlighted-chars"]="",r.properties["data-chars-id"]=d,r.tagName="mark",r.children=[{type:"element",tagName:"span",properties:{style:r.properties.style},children:r.children}],r.properties.style=void 0,i?.(r,d)}}function Ve(e,t,n,s){const{ranges:i=[]}=n,a=Q(e);t.forEach((r,c)=>{if(r&&a?.includes(r)){let d=Q(e),o=0;for(;d.includes(r);){const p=i[c]||[],l=`${r}-${c}`;n.counterMap.set(l,(n.counterMap.get(l)||0)+1);const m=p.length>0&&!p.includes(n.counterMap.get(l)??-1),x=Be(e,r,o,m);if(x.length===0)break;Fe(e,x,n,m,s),o=Math.max(x[x.length-1].index-2,0),d=e.children.map(u=>{const I=w(u)?u.properties:{};if(I&&!Object.hasOwn(I,"rehype-pretty-code-visited")&&!Object.hasOwn(I,"data-highlighted-chars-mark"))return Q(u)}).join("")}}}),e.children.forEach(r=>{w(r)&&Object.hasOwn(r.properties,"rehype-pretty-code-visited")&&(r.properties["rehype-pretty-code-visited"]=void 0)})}function fe(e,{tree:t,lang:n,title:s,caption:i,inline:a=!1,keepBackground:r=!0,grid:c=!0,lineNumbersMaxDigits:d=1,theme:o,onVisitTitle:p,onVisitCaption:l}){e.tagName=a?"span":"figure",e.properties["data-rehype-pretty-code-figure"]="";const m=e.children[0]?.data;e.children=[t].flatMap(x=>{const u=x.children[0],I=ge(o),y=I.join(" ");if(!(w(u)&&u.properties))return[];const f=u.children[0];if(Array.isArray(u.properties.className)&&u.properties.className.includes("shiki")){const U=u.properties.className.filter(E=>E!=="shiki"&&E!=="shiki-themes"&&(typeof E=="string"?!I.includes(E):!0));u.properties.className=U.length>0?U:void 0}if(r||(u.properties.style=void 0),u.properties["data-language"]=n,u.properties["data-theme"]=y,!(w(f)&&f.properties))return[];if(f.properties["data-language"]=n,f.properties["data-theme"]=y,f.data=m,a)return r&&(f.properties.style=u.properties.style),f;c&&(f.properties.style?f.properties.style+="display: grid;":f.properties.style="display: grid;"),Object.hasOwn(f.properties,"data-line-numbers")&&(f.properties["data-line-numbers-max-digits"]=d.toString().length);const M=[];if(s){const U={type:"element",tagName:i?"div":"figcaption",properties:{"data-rehype-pretty-code-title":"","data-language":n,"data-theme":y},children:[{type:"text",value:s}]};p?.(U),M.push(U)}if(M.push(u),i){const U={type:"element",tagName:"figcaption",properties:{"data-rehype-pretty-code-caption":"","data-language":n,"data-theme":y},children:[{type:"text",value:i}]};l?.(U),M.push(U)}return M})}var ue=new Map,j=be().use(je,{fragment:!0}),Qe=ze;function ze(e={}){const{grid:t=!0,theme:n="github-dark-dimmed",keepBackground:s=!0,bypassInlineCode:i=!1,defaultLang:a="",tokensMap:r={},filterMetaString:c=E=>E,getHighlighter:d=Ee,transformers:o,onVisitLine:p,onVisitHighlightedLine:l,onVisitHighlightedChars:m,onVisitTitle:x,onVisitCaption:u}=e,I=JSON.stringify(n);let y=ue.get(I);y||(y=d({themes:W(n)||typeof n=="string"?[n]:Object.values(n),langs:["plaintext"]}),ue.set(I,y));const f=typeof a=="string"?a:a.block||"",M=typeof a=="string"?a:a.inline||"";function U(E,S){const N=!W(n)&&typeof n=="object"?n:null,g=W(n)||typeof n=="string"?n:null;return{lang:E,meta:{__raw:S},transformers:o,defaultColor:typeof n=="string"?n:!1,...N?{themes:N}:{theme:g}}}return async E=>{const S=new Set,N=await y;if(N){J(E,"element",(g,q,B)=>{if(ae(g,B,i)){const C=g.children[0];if(!$(C))return;const A=C.value;if(!A)return;const L=pe(A,M);L&&L[0]!=="."&&S.add(L)}if(oe(g)){const C=g.children[0];if(!w(C))return;const{lang:A}=de(C,c,f);A&&S.add(A)}});try{await Promise.allSettled(Array.from(S).map(g=>{try{return N.loadLanguage(g)}catch(q){return Promise.reject(q)}}))}catch(g){console.error(g)}J(E,"element",(g,q,B)=>{if(ae(g,B,i)){const C=g.children[0];if(!$(C))return;const A=C.value;if(!A)return;const L=/\\{:[a-zA-Z.-]+}$/.test(A),D=L?A.replace(/\\({:[a-zA-Z.-]+})$/,"$1"):A.replace(/{:[a-zA-Z.-]+}$/,"");C.value=D;const b=L?"":pe(A,M),T=b[0]!==".";if(!b)return;let O;if(T)try{O=j.parse(N.codeToHtml(D,U(b)))}catch{O=j.parse(N.codeToHtml(D,U("plaintext")))}else{const F=ge(n),V=typeof n=="object"&&!W(n),z=V?Object.keys(n):null,H=F.map(k=>k?N.getTheme(k).settings.find(({scope:P})=>P?.includes(r[b.slice(1)]??b.slice(1)))?.settings.foreground??"inherit":"inherit");V&&z?O=j.parse(`<pre><code><span style="${z.map((k,P)=>`--shiki-${k}:${H[P]}`).join(";")}">${D}</span></code></pre>`):O=j.parse(`<pre><code><span style="color:${H[0]}">${D}</span></code></pre>`)}J(O,"element",le),fe(g,{tree:O,lang:T?b:".token",inline:!0,keepBackground:s,theme:n})}if(oe(g)){const C=g.children[0];if(!w(C))return;const A=C.children[0],{title:L,caption:D,meta:b,lang:T}=de(C,c,f);if(!T||T==="math")return;const O=[];if(b){const h=b.matchAll(/\B\{(.*?)\}\B/g);for(const v of h)v[1]&&O.push(...ne(v[1]))}let F=0;const V=new Map,z=[],H=[],k=new Map,P=b?[...b.matchAll(/(?<delimiter>["/])(?<chars>.*?)\k<delimiter>(?<charsIdAndOrRange>\S*)/g)]:void 0;if(O.forEach(h=>{const v=$e(h,b);v&&V.set(h,v)}),Array.isArray(P)&&P.forEach(h=>{const{chars:v,charsIdAndOrRange:R}=h.groups;if(z.push(v),R==="")H.push([]);else{const[_,ie]=R.split("#");_&&H.push(ne(_)),ie&&k.set(v,ie)}}),!$(A))return;const re=A.value.replace(/\n$/,"");let K;try{K=j.parse(N.codeToHtml(re,U(T,b)))}catch{K=j.parse(N.codeToHtml(re,U("plaintext",b)))}let ee=0;const me={ranges:H,idsMap:k,counterMap:new Map};J(K,"element",h=>{if(h.tagName==="code"&&/srebmuNeniLwohs(?!(.*)(\/))/.test(te(b))){h.properties&&(h.properties["data-line-numbers"]="");const R=te(b).match(/(?:\}(\d+){)?srebmuNeniLwohs(?!(.*)(\/))/)?.[1];if(R){const _=R?Number(te(R))-1:0;F=_,h.properties&&(h.properties.style=`counter-set: line ${_};`)}}if(Array.isArray(h.properties?.className)&&h.properties?.className?.[0]==="line"){if(t&&Q(h)===""&&(h.children=[{type:"text",value:" "}]),le(h),p?.(h),ee++,O.includes(ee)){h.properties["data-highlighted-line"]="";const v=V.get(ee);v&&(h.properties["data-highlighted-line-id"]=v),l?.(h,v)}Ve(h,z,me,m),F++}}),fe(g,{tree:K,lang:T,title:L,caption:D,keepBackground:s,grid:t,lineNumbersMaxDigits:F,theme:n,onVisitTitle:x,onVisitCaption:u})}})}}}export{Qe as default,ze as rehypePrettyCode};
