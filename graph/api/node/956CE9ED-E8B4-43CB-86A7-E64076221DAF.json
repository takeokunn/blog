{
  "id": "956CE9ED-E8B4-43CB-86A7-E64076221DAF",
  "title": "MacBookProの生前整理をする",
  "raw": ":PROPERTIES:\n:ID:       956CE9ED-E8B4-43CB-86A7-E64076221DAF\n:mtime:    20231204003054\n:ctime:    20221215030629\n:END:\n#+TITLE: MacBookProの生前整理をする\n#+AUTHOR: takeokunn\n#+DESCRIPTION: MacBookProの生前整理をする\n#+DATE: 2020-10-03T09:00:00+09:00\n#+HUGO_BASE_DIR: ../../\n#+HUGO_SECTION: posts/permanent\n#+HUGO_CATEGORIES: permanent\n#+HUGO_TAGS: mac\n#+HUGO_DRAFT: false\n#+STARTUP: fold\n\n** 不要な情報の削除\n\nまずは整理整頓の基本である不要なモノを捨てるところから。次のような手順を踖んだら容量カツカツ状態から62GB開けることができた。\n\n[[https://hnw.hatenablog.com/entry/20131117][hardlink.pyを使ったらディスクの空き容量が劇的に増えた]] こういうのもあるが今回は使わない。\n\n*** 不要repoの削除\n\n僕はすべてのソースコードをghqで管理している。snippet的なコードは適当なファイルやディレクトリを作って書き、終わったらブログにまとめてから削除するという運用をとっている。\n\n気になるrepoはすぐにghq getでcloneして容量を食いまくっていたので、次のscriptでガンガン削除していった。\n\n#+begin_example\n$ ls ~/.ghq/github.com | peco | xargs rm -fr\n$ ghq list --full-path | peco | xargs -L1 rm -fr\n#+end_example\n\n*** 不要なbrew packageの削除\n\n勢いでbrew installしたpackageなどが相当あったのでいらないものは削除していった。\n\n#+begin_example\n$ brew list | peco | xargs brew uninstall\n#+end_example\n\n*** 不要なnpm/go/gem packageの削除\n\n普段 ~npm i -g xxx~ や ~go get -u xxx~ や ~gem install xxx~ などで気軽にpackageをいれてたので削除していった。\n\n*** chromeのcacheやextensionの削除\n\n意外と大事。新しい環境でも同じ体験ができるように一度消してみるのもよいだろう。\n\nbookmarkなどは一切使わなく、url barに直接入力する運用をとっているので削除した直後は不便にはなるが、何が必要なのか分かるのでそれはそれでよい（パスワード周りとか特にそう）\n\n*** Docker関係の整理\n\n[[https://qiita.com/ksato9700/items/b0075dc54dfffc64b999][Dockerのあれこれを断捨離する]] この記事がすごい良かった。Dockerは再現性のある環境なはずなので一度すべてを消してもよいだろう。\n\nこのへんを適当にたたくとだいたい消えてくれる。\n\n#+begin_src shell\n  $ docker ps -q | xargs docker rm -f\n  $ docker images -q | xargs docker rmi -q\n  $ docker system prune\n  $ docker image prune\n  $ docker container prune\n  $ docker volume prune\n#+end_src\n\n*** 不要なDesktop Applicationの削除\n\n入れたはよいけど使わなかったものは多いだろう。必要ならまたinstallすればよいのでいったん消すというのもあり。VSCodeなどを削除した。\n\n*** 不要なprocessの削除\n\nPCを長持ちさせるためにもなるべく余計なprocessはkillしたい。\n~Activity Monitor~ や ~htop~ でprocessを見ておかしなものがないか、いらないものはないか洗い出す。\n\n+SKYSEAやウィルスバスターはウィルスだよな+\n\n** データの管理\n*** ソースコード\n\n上記のとおり、基本的にGitHubへあげるようにしている。\n以前GitHubのprivate repoが有料だったので、takeokunn.xyzのterraformや前職のコードはGitLabにあげている。\n\nGitLabで管理するのもイマイチ感あるので、GitHubか自宅サーバに移行したい。\n\n*** dotfiles\n\n開発に必要なツールのconfigはすべて[[https://github.com/takeokunn/dotfiles][takeokunn/dotfiles]]で一括管理するようにしている。\n\nDotfilesでは ~brew/apt~ のpackageを一括でいれられるscriptや、それぞれのツールがコマンド一発で入るようにMakefileを書いている。\n\nEmacsのconfigだけ量が多いのと、GitHub Pagesで公開したいので別repoで管理をしている。\n\n[[https://github.com/takeokunn/.emacs.d][takeokunn/.emacs.d]]\n\n*** パスワード\n\n[[https://bitwarden.com/][bitwarden]]ですべてのWebサービスのパスワードを一括管理している。\n無料だし使い勝手がよいので満足している。\n\nセキュリティを意識して、MFAを登録できるWebサービスはなるべくすべて設定するようにしている。\n\nやはり、パスワードは人間が覚えるものではない。\n\n*** ssh keys\n\nssh keyを紛失するとサーバにはいれなくなって詰む可能性もあるのでちゃんと管理したい。\n\nBitwardenに ~ssh keys~ というフォルダを作ってシークレットメモに貼り付けている。\n\n*** GoogleDrive\n\n契約書やちょっとしたファイルなどを管理している。エンジニアリング以外のデータを雑にあつかえるstorage\nserverとして使っている。情報を整理してきれいに運用したい。\n\n** 今後の課題\n\n- ~~/.ssh/config~ の管理をどうしよう\n- ~.skk-jisyo~ の管理をどうしよう\n- ~org/*.org~ の管理をどうしよう\n- ~~/.local/share/fish/fish_history~ の管理をどうしよう\n\nDropboxを使うと解決するんだけど、個人的には常にDropboxを立ち上げ続けるのはうーんって感じなのでよい運用を考えている。\n\nshellのhistoryは資産なのでこういうのをうまく管理する方法を知りたい。\n\n--------------\n\nやはりpecoはよい。\n",
  "backlinks": []
}