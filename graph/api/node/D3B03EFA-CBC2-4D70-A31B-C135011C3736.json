{
  "id": "D3B03EFA-CBC2-4D70-A31B-C135011C3736",
  "title": "k9sをDracula Theme対応した",
  "raw": ":PROPERTIES:\n:ID:       D3B03EFA-CBC2-4D70-A31B-C135011C3736\n:END:\n#+TITLE: k9sをDracula Theme対応した\n#+AUTHOR: takeokunn\n#+DESCRIPTION: description\n#+DATE: 2025-11-29T22:00:24+0900\n#+HUGO_BASE_DIR: ../../\n#+HUGO_CATEGORIES: fleeting\n#+HUGO_SECTION: posts/fleeting\n#+HUGO_TAGS: fleeting k8s nix\n#+HUGO_DRAFT: false\n#+STARTUP: fold\n* 背景・動機\n\n最近仕事でkubernetesを使う機会に恵まれた。\nkubernetesを使うにあたって、モニタリングツールは[[https://k9scli.io/][k9s]]がデファクトのようなのでhome-managerを使って導入した。\n「すべてのツールのカラーテーマはdracula themeに寄せる」という方針なので漏れなく対応した。\n\n* 試したこと・やったこと\n** 1. home-managerで導入\n\nhome-manager moduleはすでに用意されているのでenableするだけでよい。\n\n=C-c= で閉じるよりも =:q= で閉じる方が直感的なので =noExitOnCtrlC= を有効化した。\n\nhttps://github.com/nix-community/home-manager/blob/master/modules/programs/k9s.nix\n\n#+begin_src nix\n  {\n    programs.k9s = {\n      enable = true;\n      settings.k9s = {\n        noExitOnCtrlC = true;\n      };\n    };\n  }\n#+end_src\n** 2. dracula theme対応\n\nk9sはskinという機能を用意しており、自前で用意したものを適用できる。\nClaude Codeに必要なものを用意させた。\n\nhttps://k9scli.io/topics/skins/\n\n#+begin_src nix\n  {\n    programs.k9s = {\n      settings.k9s = {\n        ui.skin = \"dracula\";\n      };\n      skins = {\n        dracula =\n          let\n            foreground = \"#f8f8f2\";\n            background = \"#282a36\";\n            current_line = \"#44475a\";\n            selection = \"#44475a\";\n            comment = \"#6272a4\";\n            cyan = \"#8be9fd\";\n            green = \"#50fa7b\";\n            orange = \"#ffb86c\";\n            pink = \"#ff79c6\";\n            purple = \"#bd93f9\";\n            red = \"#ff5555\";\n            yellow = \"#f1fa8c\";\n          in\n          {\n            k9s = {\n              body = {\n                fgColor = foreground;\n                bgColor = background;\n                logoColor = purple;\n              };\n              prompt = {\n                fgColor = foreground;\n                bgColor = background;\n                suggestColor = purple;\n              };\n              info = {\n                fgColor = pink;\n                sectionColor = foreground;\n              };\n              dialog = {\n                fgColor = foreground;\n                bgColor = background;\n                buttonFgColor = foreground;\n                buttonBgColor = purple;\n                buttonFocusFgColor = yellow;\n                buttonFocusBgColor = pink;\n                labelFgColor = orange;\n                fieldFgColor = foreground;\n              };\n              frame = {\n                border = {\n                  fgColor = selection;\n                  focusColor = current_line;\n                };\n                menu = {\n                  fgColor = foreground;\n                  keyColor = pink;\n                  numKeyColor = pink;\n                };\n                crumbs = {\n                  fgColor = foreground;\n                  bgColor = current_line;\n                  activeColor = current_line;\n                };\n                status = {\n                  newColor = cyan;\n                  modifyColor = purple;\n                  addColor = green;\n                  errorColor = red;\n                  highlightColor = orange;\n                  killColor = comment;\n                  completedColor = comment;\n                };\n                title = {\n                  fgColor = foreground;\n                  bgColor = current_line;\n                  highlightColor = orange;\n                  counterColor = purple;\n                  filterColor = pink;\n                };\n              };\n              views = {\n                charts = {\n                  bgColor = \"default\";\n                  defaultDialColors = [\n                    purple\n                    red\n                  ];\n                  defaultChartColors = [\n                    purple\n                    red\n                  ];\n                };\n                table = {\n                  fgColor = foreground;\n                  bgColor = background;\n                  header = {\n                    fgColor = foreground;\n                    bgColor = background;\n                    sorterColor = cyan;\n                  };\n                };\n                xray = {\n                  fgColor = foreground;\n                  bgColor = background;\n                  cursorColor = current_line;\n                  graphicColor = purple;\n                  showIcons = false;\n                };\n                yaml = {\n                  keyColor = pink;\n                  colonColor = purple;\n                  valueColor = foreground;\n                };\n                logs = {\n                  fgColor = foreground;\n                  bgColor = background;\n                  indicator = {\n                    fgColor = foreground;\n                    bgColor = purple;\n                    toggleOnColor = green;\n                    toggleOffColor = cyan;\n                  };\n                };\n              };\n            };\n          };\n      };\n    };\n  }\n#+end_src\n** 3. k9s起動する\n\n無事反映されてることが確認できた。\n\n[[file:../../static/images/A2779C41-2BE1-4E65-A2CB-BEFB899DD519.png]]\n\n* 得られた結果・所感\n\nドキュメント的に ~export K9S_SKIN=\"dracula\"~ ですでに準備されてるものが反映されるのかなと思ったら全然そんなことなかった。\n\nhttps://k9scli.io/topics/skins/\n\n#+begin_quote\nLastly, you can completely override these settings in your shell via setting K9S_SKIN in the environment, e.g. export K9S_SKIN=\"dracula\".\n#+end_quote\n\nClaude Codeにthemeを書かせると簡単に欲しいものが出来あがるので便利。\n\n* 今後の展開・検討事項\n\nk9sの使い方がまだ分からないので使いこなしたい。\n",
  "backlinks": []
}