import{c as Ae}from"./colors-Cc3OSVma.js";import{r as Se,a as ke,s as Ne,t as Pe,d as Te}from"./isObjectLike-DZOcISe9.js";import{t as Et}from"./toNumber-CMwwYzW2.js";function Ie(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ce(t,e){if(t=Ie(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Ee(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Jt(this.cover(e,n),e,n,t)}function Jt(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,s={data:r},f=t._x0,l=t._y0,u=t._x1,c=t._y1,o,d,_,p,x,g,h,v;if(!a)return t._root=s,t;for(;a.length;)if((x=e>=(o=(f+u)/2))?f=o:u=o,(g=n>=(d=(l+c)/2))?l=d:c=d,i=a,!(a=a[h=g<<1|x]))return i[h]=s,t;if(_=+t._x.call(null,a.data),p=+t._y.call(null,a.data),e===_&&n===p)return s.next=a,i?i[h]=s:t._root=s,t;do i=i?i[h]=new Array(4):t._root=new Array(4),(x=e>=(o=(f+u)/2))?f=o:u=o,(g=n>=(d=(l+c)/2))?l=d:c=d;while((h=g<<1|x)===(v=(p>=d)<<1|_>=o));return i[v]=a,i[h]=s,t}function Re(t){var e,n,r=t.length,i,a,s=new Array(r),f=new Array(r),l=1/0,u=1/0,c=-1/0,o=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(s[n]=i,f[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>o&&(o=a));if(l>c||u>o)return this;for(this.cover(l,u).cover(c,o),n=0;n<r;++n)Jt(this,s[n],f[n],t[n]);return this}function Oe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var s=i-n||1,f=this._root,l,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=f,f=l,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function ze(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function $e(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function O(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function je(t,e,n){var r,i=this._x0,a=this._y0,s,f,l,u,c=this._x1,o=this._y1,d=[],_=this._root,p,x;for(_&&d.push(new O(_,i,a,c,o)),n==null?n=1/0:(i=t-n,a=e-n,c=t+n,o=e+n,n*=n);p=d.pop();)if(!(!(_=p.node)||(s=p.x0)>c||(f=p.y0)>o||(l=p.x1)<i||(u=p.y1)<a))if(_.length){var g=(s+l)/2,h=(f+u)/2;d.push(new O(_[3],g,h,l,u),new O(_[2],s,h,g,u),new O(_[1],g,f,l,h),new O(_[0],s,f,g,h)),(x=(e>=h)<<1|t>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-x],d[d.length-1-x]=p)}else{var v=t-+this._x.call(null,_.data),w=e-+this._y.call(null,_.data),m=v*v+w*w;if(m<n){var y=Math.sqrt(n=m);i=t-y,a=e-y,c=t+y,o=e+y,r=_.data}}return r}function Fe(t){if(isNaN(c=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,s=this._x0,f=this._y0,l=this._x1,u=this._y1,c,o,d,_,p,x,g,h;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+l)/2))?s=d:l=d,(x=o>=(_=(f+u)/2))?f=_:u=_,e=n,!(n=n[g=x<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,h=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[g]=a:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[h]=n:this._root=n),this):(this._root=a,this)}function He(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function De(){return this._root}function Ue(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function qe(t){var e=[],n,r=this._root,i,a,s,f,l;for(r&&e.push(new O(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,s=n.y0,f=n.x1,l=n.y1)&&r.length){var u=(a+f)/2,c=(s+l)/2;(i=r[3])&&e.push(new O(i,u,c,f,l)),(i=r[2])&&e.push(new O(i,a,c,u,l)),(i=r[1])&&e.push(new O(i,u,s,f,c)),(i=r[0])&&e.push(new O(i,a,s,u,c))}return this}function Le(t){var e=[],n=[],r;for(this._root&&e.push(new O(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,s=r.x0,f=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,o=(f+u)/2;(a=i[0])&&e.push(new O(a,s,f,c,o)),(a=i[1])&&e.push(new O(a,c,f,l,o)),(a=i[2])&&e.push(new O(a,s,o,c,u)),(a=i[3])&&e.push(new O(a,c,o,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Be(t){return t[0]}function We(t){return arguments.length?(this._x=t,this):this._x}function Ge(t){return t[1]}function Xe(t){return arguments.length?(this._y=t,this):this._y}function te(t,e,n){var r=new mt(e??Be,n??Ge,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function mt(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Rt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var z=te.prototype=mt.prototype;z.copy=function(){var t=new mt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Rt(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Rt(r));return t};z.add=Ee;z.addAll=Re;z.cover=Oe;z.data=ze;z.extent=$e;z.find=je;z.remove=Fe;z.removeAll=He;z.root=De;z.size=Ue;z.visit=qe;z.visitAfter=Le;z.x=We;z.y=Xe;const Br=Ae("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var _t=function(){return Se.Date.now()},Ye="Expected a function",Ve=Math.max,Qe=Math.min;function Ke(t,e,n){var r,i,a,s,f,l,u=0,c=!1,o=!1,d=!0;if(typeof t!="function")throw new TypeError(Ye);e=Et(e)||0,ke(n)&&(c=!!n.leading,o="maxWait"in n,a=o?Ve(Et(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function _(b){var A=r,M=i;return r=i=void 0,u=b,s=t.apply(M,A),s}function p(b){return u=b,f=setTimeout(h,e),c?_(b):s}function x(b){var A=b-l,M=b-u,T=e-A;return o?Qe(T,a-M):T}function g(b){var A=b-l,M=b-u;return l===void 0||A>=e||A<0||o&&M>=a}function h(){var b=_t();if(g(b))return v(b);f=setTimeout(h,x(b))}function v(b){return f=void 0,d&&r?_(b):(r=i=void 0,s)}function w(){f!==void 0&&clearTimeout(f),u=0,r=l=i=f=void 0}function m(){return f===void 0?s:v(_t())}function y(){var b=_t(),A=g(b);if(r=arguments,i=this,l=b,A){if(f===void 0)return p(l);if(o)return clearTimeout(f),f=setTimeout(h,e),_(l)}return f===void 0&&(f=setTimeout(h,e)),s}return y.cancel=w,y.flush=m,y}var J=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-J.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?J.Bounce.In(t*2)*.5:J.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),K=function(){return performance.now()},Ze=(function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];(e=s._group)===null||e===void 0||e.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},t.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,n){e===void 0&&(e=K()),n===void 0&&(n=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var a=this._tweens[r[i]],s=!n;a&&a.update(e,s)===!1&&!n&&this.remove(a)}r=Object.keys(this._tweensAddedDuringUpdate)}},t})(),dt={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=dt.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[n],t[n-1],n-r):a(t[i],t[i+1>n?n:i+1],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t}}},ee=(function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t})(),gt=new Ze,Wr=(function(){function t(e,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=J.Linear.None,this._interpolationFunction=dt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=ee.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=gt,gt.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,n){if(e===void 0&&(e=K()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var a in this._valuesEnd)i[a]=this._valuesEnd[a];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,n,r,i,a){for(var s in r){var f=e[s],l=Array.isArray(f),u=l?"array":typeof f,c=!l&&Array.isArray(r[s]);if(!(u==="undefined"||u==="function")){if(c){var o=r[s];if(o.length===0)continue;for(var d=[f],_=0,p=o.length;_<p;_+=1){var x=this._handleRelativeValue(f,o[_]);if(isNaN(x)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(x)}c&&(r[s]=d)}if((u==="object"||l)&&f&&!c){n[s]=l?[]:{};var g=f;for(var h in g)n[s][h]=g[h];i[s]=l?[]:{};var o=r[s];if(!this._isDynamic){var v={};for(var h in o)v[h]=o[h];r[s]=o=v}this._setupProperties(g,n[s],o,i[s],a)}else(typeof n[s]>"u"||a)&&(n[s]=f),l||(n[s]*=1),c?i[s]=r[s].slice().reverse():i[s]=n[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=K()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=K()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=J.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=dt.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){var r=this,i;if(e===void 0&&(e=K()),n===void 0&&(n=t.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=e-this._startTime,f=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),l=this._duration+this._repeat*f,u=function(){if(r._duration===0||s>l)return 1;var x=Math.trunc(s/f),g=s-x*f,h=Math.min(g/r._duration,1);return h===0&&s===r._duration?1:h},c=u(),o=this._easingFunction(c);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,c),this._duration===0||s>=this._duration)if(this._repeat>0){var d=Math.min(Math.trunc((s-this._duration)/f)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=d);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=f*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var _=0,p=this._chainedTweens.length;_<p;_++)this._chainedTweens[_].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var a in r)if(n[a]!==void 0){var s=n[a]||0,f=r[a],l=Array.isArray(e[a]),u=Array.isArray(f),c=!l&&u;c?e[a]=this._interpolationFunction(f,i):typeof f=="object"&&f?this._updateProperties(e[a],s,f,i):(f=this._handleRelativeValue(s,f),typeof f=="number"&&(e[a]=s+(f-s)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t.autoStartOnUpdate=!1,t})();ee.nextId;var q=gt;q.getAll.bind(q);q.removeAll.bind(q);q.add.bind(q);q.remove.bind(q);q.update.bind(q);function Ot(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Je(t){if(Array.isArray(t))return t}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function nn(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,f=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(f.push(r.value),f.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return f}}function rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(t,e){return Je(t)||nn(t,e)||sn(t,e)||rn()}function sn(t,e){if(t){if(typeof t=="string")return Ot(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}var on=en(function t(e,n){var r=n.default,i=r===void 0?null:r,a=n.triggerUpdate,s=a===void 0?!0:a,f=n.onChange,l=f===void 0?function(u,c){}:f;tn(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=s,this.onChange=l});function fn(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,r=t.props,i=r===void 0?{}:r,a=t.methods,s=a===void 0?{}:a,f=t.aliases,l=f===void 0?{}:f,u=t.init,c=u===void 0?function(){}:u,o=t.update,d=o===void 0?function(){}:o,_=Object.keys(i).map(function(p){return new on(p,i[p])});return function p(){for(var x=arguments.length,g=new Array(x),h=0;h<x;h++)g[h]=arguments[h];var v=!!(this instanceof p&&this.constructor),w=v?g.shift():void 0,m=g[0],y=m===void 0?{}:m,b=Object.assign({},n instanceof Function?n(y):n,{initialised:!1}),A={};function M(k){return T(k,y),E(),M}var T=function(N,$){c.call(M,N,b,$),b.initialised=!0},E=Ke(function(){b.initialised&&(d.call(M,b,A),A={})},1);return _.forEach(function(k){M[k.name]=N(k);function N($){var L=$.name,Y=$.triggerUpdate,we=Y===void 0?!1:Y,Tt=$.onChange,me=Tt===void 0?function(ct,rt){}:Tt,It=$.defaultVal,Me=It===void 0?null:It;return function(ct){var rt=b[L];if(!arguments.length)return rt;var Ct=ct===void 0?Me:ct;return b[L]=Ct,me.call(M,Ct,b,rt),!A.hasOwnProperty(L)&&(A[L]=rt),we&&E(),M}}}),Object.keys(s).forEach(function(k){M[k]=function(){for(var N,$=arguments.length,L=new Array($),Y=0;Y<$;Y++)L[Y]=arguments[Y];return(N=s[k]).call.apply(N,[M,b].concat(L))}}),Object.entries(l).forEach(function(k){var N=an(k,2),$=N[0],L=N[1];return M[$]=M[L]}),M.resetProps=function(){return _.forEach(function(k){M[k.name](k.defaultVal)}),M},M.resetProps(),b._rerender=E,v&&w&&M(w),M}}var Gr=(function(t){return typeof t=="function"?t:typeof t=="string"?function(e){return e[t]}:function(e){return t}});function st(t){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(t)}var un=/^\s+/,ln=/\s+$/;function S(t,e){if(t=t||"",e=e||{},t instanceof S)return t;if(!(this instanceof S))return new S(t,e);var n=hn(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}S.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,a,s,f;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?f=i/12.92:f=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*s+.0722*f},setAlpha:function(e){return this._a=ne(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$t(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$t(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=zt(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=zt(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return jt(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dn(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(I(this._r,255)*100)+"%",g:Math.round(I(this._g,255)*100)+"%",b:Math.round(I(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(I(this._r,255)*100)+"%, "+Math.round(I(this._g,255)*100)+"%, "+Math.round(I(this._b,255)*100)+"%)":"rgba("+Math.round(I(this._r,255)*100)+"%, "+Math.round(I(this._g,255)*100)+"%, "+Math.round(I(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Nn[jt(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Ft(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=S(e);r="#"+Ft(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return S(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(bn,arguments)},brighten:function(){return this._applyModification(xn,arguments)},darken:function(){return this._applyModification(wn,arguments)},desaturate:function(){return this._applyModification(gn,arguments)},saturate:function(){return this._applyModification(vn,arguments)},greyscale:function(){return this._applyModification(yn,arguments)},spin:function(){return this._applyModification(mn,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Sn,arguments)},complement:function(){return this._applyCombination(Mn,arguments)},monochromatic:function(){return this._applyCombination(kn,arguments)},splitcomplement:function(){return this._applyCombination(An,arguments)},triad:function(){return this._applyCombination(Ht,[3])},tetrad:function(){return this._applyCombination(Ht,[4])}};S.fromRatio=function(t,e){if(st(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Z(t[r]));t=n}return S(t,e)};function hn(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,a=null,s=!1,f=!1;return typeof t=="string"&&(t=Cn(t)),st(t)=="object"&&(B(t.r)&&B(t.g)&&B(t.b)?(e=cn(t.r,t.g,t.b),s=!0,f=String(t.r).substr(-1)==="%"?"prgb":"rgb"):B(t.h)&&B(t.s)&&B(t.v)?(r=Z(t.s),i=Z(t.v),e=pn(t.h,r,i),s=!0,f="hsv"):B(t.h)&&B(t.s)&&B(t.l)&&(r=Z(t.s),a=Z(t.l),e=_n(t.h,r,a),s=!0,f="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=ne(n),{ok:s,format:t.format||f,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function cn(t,e,n){return{r:I(t,255)*255,g:I(e,255)*255,b:I(n,255)*255}}function zt(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,s,f=(r+i)/2;if(r==i)a=s=0;else{var l=r-i;switch(s=f>.5?l/(2-r-i):l/(r+i),r){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4;break}a/=6}return{h:a,s,l:f}}function _n(t,e,n){var r,i,a;t=I(t,360),e=I(e,100),n=I(n,100);function s(u,c,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?u+(c-u)*6*o:o<1/2?c:o<2/3?u+(c-u)*(2/3-o)*6:u}if(e===0)r=i=a=n;else{var f=n<.5?n*(1+e):n+e-n*e,l=2*n-f;r=s(l,f,t+1/3),i=s(l,f,t),a=s(l,f,t-1/3)}return{r:r*255,g:i*255,b:a*255}}function $t(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,s,f=r,l=r-i;if(s=r===0?0:l/r,r==i)a=0;else{switch(r){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4;break}a/=6}return{h:a,s,v:f}}function pn(t,e,n){t=I(t,360)*6,e=I(e,100),n=I(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),f=n*(1-(1-i)*e),l=r%6,u=[n,s,a,a,f,n][l],c=[f,n,n,s,a,a][l],o=[a,a,f,n,n,s][l];return{r:u*255,g:c*255,b:o*255}}function jt(t,e,n,r){var i=[D(Math.round(t).toString(16)),D(Math.round(e).toString(16)),D(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function dn(t,e,n,r,i){var a=[D(Math.round(t).toString(16)),D(Math.round(e).toString(16)),D(Math.round(n).toString(16)),D(re(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Ft(t,e,n,r){var i=[D(re(r)),D(Math.round(t).toString(16)),D(Math.round(e).toString(16)),D(Math.round(n).toString(16))];return i.join("")}S.equals=function(t,e){return!t||!e?!1:S(t).toRgbString()==S(e).toRgbString()};S.random=function(){return S.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function gn(t,e){e=e===0?0:e||10;var n=S(t).toHsl();return n.s-=e/100,n.s=ut(n.s),S(n)}function vn(t,e){e=e===0?0:e||10;var n=S(t).toHsl();return n.s+=e/100,n.s=ut(n.s),S(n)}function yn(t){return S(t).desaturate(100)}function bn(t,e){e=e===0?0:e||10;var n=S(t).toHsl();return n.l+=e/100,n.l=ut(n.l),S(n)}function xn(t,e){e=e===0?0:e||10;var n=S(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),S(n)}function wn(t,e){e=e===0?0:e||10;var n=S(t).toHsl();return n.l-=e/100,n.l=ut(n.l),S(n)}function mn(t,e){var n=S(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,S(n)}function Mn(t){var e=S(t).toHsl();return e.h=(e.h+180)%360,S(e)}function Ht(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=S(t).toHsl(),r=[S(t)],i=360/e,a=1;a<e;a++)r.push(S({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function An(t){var e=S(t).toHsl(),n=e.h;return[S(t),S({h:(n+72)%360,s:e.s,l:e.l}),S({h:(n+216)%360,s:e.s,l:e.l})]}function Sn(t,e,n){e=e||6,n=n||30;var r=S(t).toHsl(),i=360/n,a=[S(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(S(r));return a}function kn(t,e){e=e||6;for(var n=S(t).toHsv(),r=n.h,i=n.s,a=n.v,s=[],f=1/e;e--;)s.push(S({h:r,s:i,v:a})),a=(a+f)%1;return s}S.mix=function(t,e,n){n=n===0?0:n||50;var r=S(t).toRgb(),i=S(e).toRgb(),a=n/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return S(s)};S.readability=function(t,e){var n=S(t),r=S(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};S.isReadable=function(t,e,n){var r=S.readability(t,e),i,a;switch(a=!1,i=En(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};S.mostReadable=function(t,e,n){var r=null,i=0,a,s,f,l;n=n||{},s=n.includeFallbackColors,f=n.level,l=n.size;for(var u=0;u<e.length;u++)a=S.readability(t,e[u]),a>i&&(i=a,r=S(e[u]));return S.isReadable(t,r,{level:f,size:l})||!s?r:(n.includeFallbackColors=!1,S.mostReadable(t,["#fff","#000"],n))};var vt=S.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Nn=S.hexNames=Pn(vt);function Pn(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ne(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function I(t,e){Tn(t)&&(t="100%");var n=In(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function ut(t){return Math.min(1,Math.max(0,t))}function F(t){return parseInt(t,16)}function Tn(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function In(t){return typeof t=="string"&&t.indexOf("%")!=-1}function D(t){return t.length==1?"0"+t:""+t}function Z(t){return t<=1&&(t=t*100+"%"),t}function re(t){return Math.round(parseFloat(t)*255).toString(16)}function Dt(t){return F(t)/255}var H=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function B(t){return!!H.CSS_UNIT.exec(t)}function Cn(t){t=t.replace(un,"").replace(ln,"").toLowerCase();var e=!1;if(vt[t])t=vt[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=H.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=H.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=H.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=H.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=H.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=H.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=H.hex8.exec(t))?{r:F(n[1]),g:F(n[2]),b:F(n[3]),a:Dt(n[4]),format:e?"name":"hex8"}:(n=H.hex6.exec(t))?{r:F(n[1]),g:F(n[2]),b:F(n[3]),format:e?"name":"hex"}:(n=H.hex4.exec(t))?{r:F(n[1]+""+n[1]),g:F(n[2]+""+n[2]),b:F(n[3]+""+n[3]),a:Dt(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=H.hex3.exec(t))?{r:F(n[1]+""+n[1]),g:F(n[2]+""+n[2]),b:F(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function En(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var nt,C,ie,ae,V,Ut,se,oe,fe,Mt,yt,bt,et={},ue=[],Rn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lt=Array.isArray;function U(t,e){for(var n in e)t[n]=e[n];return t}function At(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function On(t,e,n){var r,i,a,s={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?nt.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return tt(t,s,r,i,null)}function tt(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ie,__i:-1,__u:0};return i==null&&C.vnode!=null&&C.vnode(a),a}function ht(t){return t.children}function at(t,e){this.props=t,this.context=e}function Q(t,e){if(e==null)return t.__?Q(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Q(t):null}function le(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return le(t)}}function qt(t){(!t.__d&&(t.__d=!0)&&V.push(t)&&!ot.__r++||Ut!=C.debounceRendering)&&((Ut=C.debounceRendering)||se)(ot)}function ot(){for(var t,e,n,r,i,a,s,f=1;V.length;)V.length>f&&V.sort(oe),t=V.shift(),f=V.length,t.__d&&(n=void 0,i=(r=(e=t).__v).__e,a=[],s=[],e.__P&&((n=U({},r)).__v=r.__v+1,C.vnode&&C.vnode(n),St(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??Q(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,_e(a,n,s),n.__e!=i&&le(n)));ot.__r=0}function he(t,e,n,r,i,a,s,f,l,u,c){var o,d,_,p,x,g,h=r&&r.__k||ue,v=e.length;for(l=zn(n,e,h,l,v),o=0;o<v;o++)(_=n.__k[o])!=null&&(d=_.__i==-1?et:h[_.__i]||et,_.__i=o,g=St(t,_,d,i,a,s,f,l,u,c),p=_.__e,_.ref&&d.ref!=_.ref&&(d.ref&&kt(d.ref,null,_),c.push(_.ref,_.__c||p,_)),x==null&&p!=null&&(x=p),4&_.__u||d.__k===_.__k?l=ce(_,l,t):typeof _.type=="function"&&g!==void 0?l=g:p&&(l=p.nextSibling),_.__u&=-7);return n.__e=x,l}function zn(t,e,n,r,i){var a,s,f,l,u,c=n.length,o=c,d=0;for(t.__k=new Array(i),a=0;a<i;a++)(s=e[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=a+d,(s=t.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?tt(null,s,null,null,null):lt(s)?tt(ht,{children:s},null,null,null):s.constructor==null&&s.__b>0?tt(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,f=null,(u=s.__i=$n(s,n,l,o))!=-1&&(o--,(f=n[u])&&(f.__u|=2)),f==null||f.__v==null?(u==-1&&(i>c?d--:i<c&&d++),typeof s.type!="function"&&(s.__u|=4)):u!=l&&(u==l-1?d--:u==l+1?d++:(u>l?d--:d++,s.__u|=4))):t.__k[a]=null;if(o)for(a=0;a<c;a++)(f=n[a])!=null&&(2&f.__u)==0&&(f.__e==r&&(r=Q(f)),de(f,f));return r}function ce(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=ce(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Q(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function $n(t,e,n,r){var i,a,s,f=t.key,l=t.type,u=e[n],c=u!=null&&(2&u.__u)==0;if(u===null&&t.key==null||c&&f==u.key&&l==u.type)return n;if(r>(c?1:0)){for(i=n-1,a=n+1;i>=0||a<e.length;)if((u=e[s=i>=0?i--:a++])!=null&&(2&u.__u)==0&&f==u.key&&l==u.type)return s}return-1}function Lt(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Rn.test(e)?n:n+"px"}function it(t,e,n,r,i){var a,s;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Lt(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||Lt(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(fe,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r?n.u=r.u:(n.u=Mt,t.addEventListener(e,a?bt:yt,a)):t.removeEventListener(e,a?bt:yt,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Bt(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Mt++;else if(e.t<n.u)return;return n(C.event?C.event(e):e)}}}function St(t,e,n,r,i,a,s,f,l,u){var c,o,d,_,p,x,g,h,v,w,m,y,b,A,M,T,E,k=e.type;if(e.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),a=[f=e.__e=n.__e]),(c=C.__b)&&c(e);t:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,w=(c=k.contextType)&&r[c.__c],m=c?w?w.props.value:c.__:r,n.__c?g=(o=e.__c=n.__c).__=o.__E:(v?e.__c=o=new k(h,m):(e.__c=o=new at(h,m),o.constructor=k,o.render=Fn),w&&w.sub(o),o.props=h,o.state||(o.state={}),o.context=m,o.__n=r,d=o.__d=!0,o.__h=[],o._sb=[]),v&&o.__s==null&&(o.__s=o.state),v&&k.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=U({},o.__s)),U(o.__s,k.getDerivedStateFromProps(h,o.__s))),_=o.props,p=o.state,o.__v=e,d)v&&k.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),v&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==_&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(h,m),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(h,o.__s,m)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(o.props=h,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(N){N&&(N.__=e)}),y=0;y<o._sb.length;y++)o.__h.push(o._sb[y]);o._sb=[],o.__h.length&&s.push(o);break t}o.componentWillUpdate!=null&&o.componentWillUpdate(h,o.__s,m),v&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(_,p,x)})}if(o.context=m,o.props=h,o.__P=t,o.__e=!1,b=C.__r,A=0,v){for(o.state=o.__s,o.__d=!1,b&&b(e),c=o.render(o.props,o.state,o.context),M=0;M<o._sb.length;M++)o.__h.push(o._sb[M]);o._sb=[]}else do o.__d=!1,b&&b(e),c=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++A<25);o.state=o.__s,o.getChildContext!=null&&(r=U(U({},r),o.getChildContext())),v&&!d&&o.getSnapshotBeforeUpdate!=null&&(x=o.getSnapshotBeforeUpdate(_,p)),T=c,c!=null&&c.type===ht&&c.key==null&&(T=pe(c.props.children)),f=he(t,lt(T)?T:[T],e,n,r,i,a,s,f,l,u),o.base=e.__e,e.__u&=-161,o.__h.length&&s.push(o),g&&(o.__E=o.__=null)}catch(N){if(e.__v=null,l||a!=null)if(N.then){for(e.__u|=l?160:128;f&&f.nodeType==8&&f.nextSibling;)f=f.nextSibling;a[a.indexOf(f)]=null,e.__e=f}else{for(E=a.length;E--;)At(a[E]);xt(e)}else e.__e=n.__e,e.__k=n.__k,N.then||xt(e);C.__e(N,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):f=e.__e=jn(n.__e,e,n,r,i,a,s,l,u);return(c=C.diffed)&&c(e),128&e.__u?void 0:f}function xt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(xt)}function _e(t,e,n){for(var r=0;r<n.length;r++)kt(n[r],n[++r],n[++r]);C.__c&&C.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){C.__e(a,i.__v)}})}function pe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:lt(t)?t.map(pe):U({},t)}function jn(t,e,n,r,i,a,s,f,l){var u,c,o,d,_,p,x,g=n.props,h=e.props,v=e.type;if(v=="svg"?i="http://www.w3.org/2000/svg":v=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((_=a[u])&&"setAttribute"in _==!!v&&(v?_.localName==v:_.nodeType==3)){t=_,a[u]=null;break}}if(t==null){if(v==null)return document.createTextNode(h);t=document.createElementNS(i,v,h.is&&h),f&&(C.__m&&C.__m(e,a),f=!1),a=null}if(v==null)g===h||f&&t.data==h||(t.data=h);else{if(a=a&&nt.call(t.childNodes),g=n.props||et,!f&&a!=null)for(g={},u=0;u<t.attributes.length;u++)g[(_=t.attributes[u]).name]=_.value;for(u in g)if(_=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")o=_;else if(!(u in h)){if(u=="value"&&"defaultValue"in h||u=="checked"&&"defaultChecked"in h)continue;it(t,u,null,_,i)}}for(u in h)_=h[u],u=="children"?d=_:u=="dangerouslySetInnerHTML"?c=_:u=="value"?p=_:u=="checked"?x=_:f&&typeof _!="function"||g[u]===_||it(t,u,_,g[u],i);if(c)f||o&&(c.__html==o.__html||c.__html==t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(o&&(t.innerHTML=""),he(e.type=="template"?t.content:t,lt(d)?d:[d],e,n,r,v=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:n.__k&&Q(n,0),f,l),a!=null)for(u=a.length;u--;)At(a[u]);f||(u="value",v=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[u]||v=="progress"&&!p||v=="option"&&p!=g[u])&&it(t,u,p,g[u],i),u="checked",x!=null&&x!=t[u]&&it(t,u,x,g[u],i))}return t}function kt(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){C.__e(i,n)}}function de(t,e,n){var r,i;if(C.unmount&&C.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||kt(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){C.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&de(r[i],e,n||typeof t.type!="function");n||At(t.__e),t.__c=t.__=t.__e=void 0}function Fn(t,e,n){return this.constructor(t,n)}function Hn(t,e,n){var r,i,a,s;e==document&&(e=document.documentElement),C.__&&C.__(t,e),i=(r=!1)?null:e.__k,a=[],s=[],St(e,t=e.__k=On(ht,null,[t]),i||et,et,e.namespaceURI,i?null:e.firstChild?nt.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,s),_e(a,t,s)}function ge(t,e,n){var r,i,a,s,f=U({},t.props);for(a in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:f[a]=e[a]===void 0&&s!=null?s[a]:e[a];return arguments.length>2&&(f.children=arguments.length>3?nt.call(arguments,2):n),tt(t.type,f,r||t.key,i||t.ref,null)}nt=ue.slice,C={__e:function(t,e,n,r){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(f){t=f}throw t}},ie=0,ae=function(t){return t!=null&&t.constructor==null},at.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},n),this.props)),t&&U(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),qt(this))},at.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),qt(this))},at.prototype.render=ht,V=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oe=function(t,e){return t.__v.__b-e.__v.__b},ot.__r=0,fe=/(PointerCapture)$|Capture$/i,Mt=0,yt=Bt(!1),bt=Bt(!0);function Wt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Dn(t){if(Array.isArray(t))return t}function Un(t,e,n){return(e=Xn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qn(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,f=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(f.push(r.value),f.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return f}}function Ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wn(t,e){return Dn(t)||qn(t,e)||Yn(t,e)||Ln()}function Gn(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t){var e=Gn(t,"string");return typeof e=="symbol"?e:e+""}function ft(t){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(t)}function Yn(t,e){if(t){if(typeof t=="string")return Wt(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}var wt=function(e){if(ft(e)!=="object")return e;var n=ge(e);if(n.props){var r;n.props=Bn({},n.props),n!=null&&(r=n.props)!==null&&r!==void 0&&r.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(wt):wt(n.props.children))}return n},Vn=function(e){return ae(ge(e))},Qn=function(e,n){delete n.__k,Hn(wt(e),n)};function Kn(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Zn=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Kn(Zn);var Xr=fn({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.style,a=i===void 0?{}:i,s=!!e&&ft(e)==="object"&&!!e.node&&typeof e.node=="function",f=Ne(s?e.node():e);f.style("position")==="static"&&f.style("position","relative"),n.tooltipEl=f.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(u){var c=Wn(u,2),o=c[0],d=c[1];return n.tooltipEl.style(o,d)}),n.tooltipEl.style("left","-10000px").style("display","none");var l="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,f.on("mousemove.".concat(l),function(u){n.mouseInside=!0;var c=Ce(u),o=f.node(),d=o.offsetWidth,_=o.offsetHeight,p=[n.offsetX===null||n.offsetX===void 0?"-".concat(c[0]/d*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?_>130&&_-c[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",c[0]+"px").style("top",c[1]+"px").style("transform","translate(".concat(p.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),f.on("mouseover.".concat(l),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),f.on("mouseout.".concat(l),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Vn(e.content)?(e.tooltipEl.text(""),Qn(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Yr(t,e,n){var r,i=1;t==null&&(t=0),e==null&&(e=0),n==null&&(n=0);function a(){var s,f=r.length,l,u=0,c=0,o=0;for(s=0;s<f;++s)l=r[s],u+=l.x||0,c+=l.y||0,o+=l.z||0;for(u=(u/f-t)*i,c=(c/f-e)*i,o=(o/f-n)*i,s=0;s<f;++s)l=r[s],u&&(l.x-=u),c&&(l.y-=c),o&&(l.z-=o)}return a.initialize=function(s){r=s},a.x=function(s){return arguments.length?(t=+s,a):t},a.y=function(s){return arguments.length?(e=+s,a):e},a.z=function(s){return arguments.length?(n=+s,a):n},a.strength=function(s){return arguments.length?(i=+s,a):i},a}function Jn(t){const e=+this._x.call(null,t);return ve(this.cover(e),e,t)}function ve(t,e,n){if(isNaN(e))return t;var r,i=t._root,a={data:n},s=t._x0,f=t._x1,l,u,c,o,d;if(!i)return t._root=a,t;for(;i.length;)if((c=e>=(l=(s+f)/2))?s=l:f=l,r=i,!(i=i[o=+c]))return r[o]=a,t;if(u=+t._x.call(null,i.data),e===u)return a.next=i,r?r[o]=a:t._root=a,t;do r=r?r[o]=new Array(2):t._root=new Array(2),(c=e>=(l=(s+f)/2))?s=l:f=l;while((o=+c)==(d=+(u>=l)));return r[d]=i,r[o]=a,t}function tr(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e);let r=1/0,i=-1/0;for(let a=0,s;a<e;++a)isNaN(s=+this._x.call(null,t[a]))||(n[a]=s,s<r&&(r=s),s>i&&(i=s));if(r>i)return this;this.cover(r).cover(i);for(let a=0;a<e;++a)ve(this,n[a],t[a]);return this}function er(t){if(isNaN(t=+t))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(t))+1;else{for(var r=n-e||1,i=this._root,a,s;e>t||t>=n;)switch(s=+(t<e),a=new Array(2),a[s]=i,i=a,r*=2,s){case 0:n=e+r;break;case 1:e=n-r;break}this._root&&this._root.length&&(this._root=i)}return this._x0=e,this._x1=n,this}function nr(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function rr(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function X(t,e,n){this.node=t,this.x0=e,this.x1=n}function ir(t,e){var n,r=this._x0,i,a,s=this._x1,f=[],l=this._root,u,c;for(l&&f.push(new X(l,r,s)),e==null?e=1/0:(r=t-e,s=t+e);u=f.pop();)if(!(!(l=u.node)||(i=u.x0)>s||(a=u.x1)<r))if(l.length){var o=(i+a)/2;f.push(new X(l[1],o,a),new X(l[0],i,o)),(c=+(t>=o))&&(u=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=u)}else{var d=Math.abs(t-+this._x.call(null,l.data));d<e&&(e=d,r=t-d,s=t+d,n=l.data)}return n}function ar(t){if(isNaN(l=+this._x.call(null,t)))return this;var e,n=this._root,r,i,a,s=this._x0,f=this._x1,l,u,c,o,d;if(!n)return this;if(n.length)for(;;){if((c=l>=(u=(s+f)/2))?s=u:f=u,e=n,!(n=n[o=+c]))return this;if(!n.length)break;e[o+1&1]&&(r=e,d=o)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[o]=a:delete e[o],(n=e[0]||e[1])&&n===(e[1]||e[0])&&!n.length&&(r?r[d]=n:this._root=n),this):(this._root=a,this)}function sr(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function or(){return this._root}function fr(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function ur(t){var e=[],n,r=this._root,i,a,s;for(r&&e.push(new X(r,this._x0,this._x1));n=e.pop();)if(!t(r=n.node,a=n.x0,s=n.x1)&&r.length){var f=(a+s)/2;(i=r[1])&&e.push(new X(i,f,s)),(i=r[0])&&e.push(new X(i,a,f))}return this}function lr(t){var e=[],n=[],r;for(this._root&&e.push(new X(this._root,this._x0,this._x1));r=e.pop();){var i=r.node;if(i.length){var a,s=r.x0,f=r.x1,l=(s+f)/2;(a=i[0])&&e.push(new X(a,s,l)),(a=i[1])&&e.push(new X(a,l,f))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.x1);return this}function hr(t){return t[0]}function cr(t){return arguments.length?(this._x=t,this):this._x}function ye(t,e){var n=new Nt(e??hr,NaN,NaN);return t==null?n:n.addAll(t)}function Nt(t,e,n){this._x=t,this._x0=e,this._x1=n,this._root=void 0}function Xt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var j=ye.prototype=Nt.prototype;j.copy=function(){var t=new Nt(this._x,this._x0,this._x1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Xt(e),t;for(n=[{source:e,target:t._root=new Array(2)}];e=n.pop();)for(var i=0;i<2;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(2)}):e.target[i]=Xt(r));return t};j.add=Jn;j.addAll=tr;j.cover=er;j.data=nr;j.extent=rr;j.find=ir;j.remove=ar;j.removeAll=sr;j.root=or;j.size=fr;j.visit=ur;j.visitAfter=lr;j.x=cr;function _r(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return be(this.cover(e,n,r),e,n,r,t)}function be(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var a,s=t._root,f={data:i},l=t._x0,u=t._y0,c=t._z0,o=t._x1,d=t._y1,_=t._z1,p,x,g,h,v,w,m,y,b,A,M;if(!s)return t._root=f,t;for(;s.length;)if((m=e>=(p=(l+o)/2))?l=p:o=p,(y=n>=(x=(u+d)/2))?u=x:d=x,(b=r>=(g=(c+_)/2))?c=g:_=g,a=s,!(s=s[A=b<<2|y<<1|m]))return a[A]=f,t;if(h=+t._x.call(null,s.data),v=+t._y.call(null,s.data),w=+t._z.call(null,s.data),e===h&&n===v&&r===w)return f.next=s,a?a[A]=f:t._root=f,t;do a=a?a[A]=new Array(8):t._root=new Array(8),(m=e>=(p=(l+o)/2))?l=p:o=p,(y=n>=(x=(u+d)/2))?u=x:d=x,(b=r>=(g=(c+_)/2))?c=g:_=g;while((A=b<<2|y<<1|m)===(M=(w>=g)<<2|(v>=x)<<1|h>=p));return a[M]=s,a[A]=f,t}function pr(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let a=1/0,s=1/0,f=1/0,l=-1/0,u=-1/0,c=-1/0;for(let o=0,d,_,p,x;o<e;++o)isNaN(_=+this._x.call(null,d=t[o]))||isNaN(p=+this._y.call(null,d))||isNaN(x=+this._z.call(null,d))||(n[o]=_,r[o]=p,i[o]=x,_<a&&(a=_),_>l&&(l=_),p<s&&(s=p),p>u&&(u=p),x<f&&(f=x),x>c&&(c=x));if(a>l||s>u||f>c)return this;this.cover(a,s,f).cover(l,u,c);for(let o=0;o<e;++o)be(this,n[o],r[o],i[o],t[o]);return this}function dr(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._z0,s=this._x1,f=this._y1,l=this._z1;if(isNaN(r))s=(r=Math.floor(t))+1,f=(i=Math.floor(e))+1,l=(a=Math.floor(n))+1;else{for(var u=s-r||1,c=this._root,o,d;r>t||t>=s||i>e||e>=f||a>n||n>=l;)switch(d=(n<a)<<2|(e<i)<<1|t<r,o=new Array(8),o[d]=c,c=o,u*=2,d){case 0:s=r+u,f=i+u,l=a+u;break;case 1:r=s-u,f=i+u,l=a+u;break;case 2:s=r+u,i=f-u,l=a+u;break;case 3:r=s-u,i=f-u,l=a+u;break;case 4:s=r+u,f=i+u,a=l-u;break;case 5:r=s-u,f=i+u,a=l-u;break;case 6:s=r+u,i=f-u,a=l-u;break;case 7:r=s-u,i=f-u,a=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._z0=a,this._x1=s,this._y1=f,this._z1=l,this}function gr(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function vr(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function P(t,e,n,r,i,a,s){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=a,this.z1=s}function yr(t,e,n,r){var i,a=this._x0,s=this._y0,f=this._z0,l,u,c,o,d,_,p=this._x1,x=this._y1,g=this._z1,h=[],v=this._root,w,m;for(v&&h.push(new P(v,a,s,f,p,x,g)),r==null?r=1/0:(a=t-r,s=e-r,f=n-r,p=t+r,x=e+r,g=n+r,r*=r);w=h.pop();)if(!(!(v=w.node)||(l=w.x0)>p||(u=w.y0)>x||(c=w.z0)>g||(o=w.x1)<a||(d=w.y1)<s||(_=w.z1)<f))if(v.length){var y=(l+o)/2,b=(u+d)/2,A=(c+_)/2;h.push(new P(v[7],y,b,A,o,d,_),new P(v[6],l,b,A,y,d,_),new P(v[5],y,u,A,o,b,_),new P(v[4],l,u,A,y,b,_),new P(v[3],y,b,c,o,d,A),new P(v[2],l,b,c,y,d,A),new P(v[1],y,u,c,o,b,A),new P(v[0],l,u,c,y,b,A)),(m=(n>=A)<<2|(e>=b)<<1|t>=y)&&(w=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=w)}else{var M=t-+this._x.call(null,v.data),T=e-+this._y.call(null,v.data),E=n-+this._z.call(null,v.data),k=M*M+T*T+E*E;if(k<r){var N=Math.sqrt(r=k);a=t-N,s=e-N,f=n-N,p=t+N,x=e+N,g=n+N,i=v.data}}return i}const br=(t,e,n,r,i,a)=>Math.sqrt((t-r)**2+(e-i)**2+(n-a)**2);function xr(t,e,n,r){const i=[],a=t-r,s=e-r,f=n-r,l=t+r,u=e+r,c=n+r;return this.visit((o,d,_,p,x,g,h)=>{if(!o.length)do{const v=o.data;br(t,e,n,this._x(v),this._y(v),this._z(v))<=r&&i.push(v)}while(o=o.next);return d>l||_>u||p>c||x<a||g<s||h<f}),i}function wr(t){if(isNaN(d=+this._x.call(null,t))||isNaN(_=+this._y.call(null,t))||isNaN(p=+this._z.call(null,t)))return this;var e,n=this._root,r,i,a,s=this._x0,f=this._y0,l=this._z0,u=this._x1,c=this._y1,o=this._z1,d,_,p,x,g,h,v,w,m,y,b;if(!n)return this;if(n.length)for(;;){if((v=d>=(x=(s+u)/2))?s=x:u=x,(w=_>=(g=(f+c)/2))?f=g:c=g,(m=p>=(h=(l+o)/2))?l=h:o=h,e=n,!(n=n[y=m<<2|w<<1|v]))return this;if(!n.length)break;(e[y+1&7]||e[y+2&7]||e[y+3&7]||e[y+4&7]||e[y+5&7]||e[y+6&7]||e[y+7&7])&&(r=e,b=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[y]=a:delete e[y],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=a,this)}function mr(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Mr(){return this._root}function Ar(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Sr(t){var e=[],n,r=this._root,i,a,s,f,l,u,c;for(r&&e.push(new P(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!t(r=n.node,a=n.x0,s=n.y0,f=n.z0,l=n.x1,u=n.y1,c=n.z1)&&r.length){var o=(a+l)/2,d=(s+u)/2,_=(f+c)/2;(i=r[7])&&e.push(new P(i,o,d,_,l,u,c)),(i=r[6])&&e.push(new P(i,a,d,_,o,u,c)),(i=r[5])&&e.push(new P(i,o,s,_,l,d,c)),(i=r[4])&&e.push(new P(i,a,s,_,o,d,c)),(i=r[3])&&e.push(new P(i,o,d,f,l,u,_)),(i=r[2])&&e.push(new P(i,a,d,f,o,u,_)),(i=r[1])&&e.push(new P(i,o,s,f,l,d,_)),(i=r[0])&&e.push(new P(i,a,s,f,o,d,_))}return this}function kr(t){var e=[],n=[],r;for(this._root&&e.push(new P(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var i=r.node;if(i.length){var a,s=r.x0,f=r.y0,l=r.z0,u=r.x1,c=r.y1,o=r.z1,d=(s+u)/2,_=(f+c)/2,p=(l+o)/2;(a=i[0])&&e.push(new P(a,s,f,l,d,_,p)),(a=i[1])&&e.push(new P(a,d,f,l,u,_,p)),(a=i[2])&&e.push(new P(a,s,_,l,d,c,p)),(a=i[3])&&e.push(new P(a,d,_,l,u,c,p)),(a=i[4])&&e.push(new P(a,s,f,p,d,_,o)),(a=i[5])&&e.push(new P(a,d,f,p,u,_,o)),(a=i[6])&&e.push(new P(a,s,_,p,d,c,o)),(a=i[7])&&e.push(new P(a,d,_,p,u,c,o))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function Nr(t){return t[0]}function Pr(t){return arguments.length?(this._x=t,this):this._x}function Tr(t){return t[1]}function Ir(t){return arguments.length?(this._y=t,this):this._y}function Cr(t){return t[2]}function Er(t){return arguments.length?(this._z=t,this):this._z}function xe(t,e,n,r){var i=new Pt(e??Nr,n??Tr,r??Cr,NaN,NaN,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function Pt(t,e,n,r,i,a,s,f,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=a,this._x1=s,this._y1=f,this._z1=l,this._root=void 0}function Yt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var R=xe.prototype=Pt.prototype;R.copy=function(){var t=new Pt(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Yt(e),t;for(n=[{source:e,target:t._root=new Array(8)}];e=n.pop();)for(var i=0;i<8;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(8)}):e.target[i]=Yt(r));return t};R.add=_r;R.addAll=pr;R.cover=dr;R.data=gr;R.extent=vr;R.find=yr;R.findAllWithinRadius=xr;R.remove=wr;R.removeAll=mr;R.root=Mr;R.size=Ar;R.visit=Sr;R.visitAfter=kr;R.x=Pr;R.y=Ir;R.z=Er;function G(t){return function(){return t}}function W(t){return(t()-.5)*1e-6}function Rr(t){return t.index}function Vt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Vr(t){var e=Rr,n=d,r,i=G(30),a,s,f,l,u,c,o=1;t==null&&(t=[]);function d(h){return 1/Math.min(l[h.source.index],l[h.target.index])}function _(h){for(var v=0,w=t.length;v<o;++v)for(var m=0,y,b,A,M=0,T=0,E=0,k,N;m<w;++m)y=t[m],b=y.source,A=y.target,M=A.x+A.vx-b.x-b.vx||W(c),f>1&&(T=A.y+A.vy-b.y-b.vy||W(c)),f>2&&(E=A.z+A.vz-b.z-b.vz||W(c)),k=Math.sqrt(M*M+T*T+E*E),k=(k-a[m])/k*h*r[m],M*=k,T*=k,E*=k,A.vx-=M*(N=u[m]),f>1&&(A.vy-=T*N),f>2&&(A.vz-=E*N),b.vx+=M*(N=1-N),f>1&&(b.vy+=T*N),f>2&&(b.vz+=E*N)}function p(){if(s){var h,v=s.length,w=t.length,m=new Map(s.map((b,A)=>[e(b,A,s),b])),y;for(h=0,l=new Array(v);h<w;++h)y=t[h],y.index=h,typeof y.source!="object"&&(y.source=Vt(m,y.source)),typeof y.target!="object"&&(y.target=Vt(m,y.target)),l[y.source.index]=(l[y.source.index]||0)+1,l[y.target.index]=(l[y.target.index]||0)+1;for(h=0,u=new Array(w);h<w;++h)y=t[h],u[h]=l[y.source.index]/(l[y.source.index]+l[y.target.index]);r=new Array(w),x(),a=new Array(w),g()}}function x(){if(s)for(var h=0,v=t.length;h<v;++h)r[h]=+n(t[h],h,t)}function g(){if(s)for(var h=0,v=t.length;h<v;++h)a[h]=+i(t[h],h,t)}return _.initialize=function(h,...v){s=h,c=v.find(w=>typeof w=="function")||Math.random,f=v.find(w=>[1,2,3].includes(w))||2,p()},_.links=function(h){return arguments.length?(t=h,p(),_):t},_.id=function(h){return arguments.length?(e=h,_):e},_.iterations=function(h){return arguments.length?(o=+h,_):o},_.strength=function(h){return arguments.length?(n=typeof h=="function"?h:G(+h),x(),_):n},_.distance=function(h){return arguments.length?(i=typeof h=="function"?h:G(+h),g(),_):i},_}const Or=1664525,zr=1013904223,Qt=4294967296;function $r(){let t=1;return()=>(t=(Or*t+zr)%Qt)/Qt}var Kt=3;function pt(t){return t.x}function Zt(t){return t.y}function jr(t){return t.z}var Fr=10,Hr=Math.PI*(3-Math.sqrt(5)),Dr=Math.PI*20/(9+Math.sqrt(221));function Qr(t,e){e=e||2;var n=Math.min(Kt,Math.max(1,Math.round(e))),r,i=1,a=.001,s=1-Math.pow(a,1/300),f=0,l=.6,u=new Map,c=Pe(_),o=Te("tick","end"),d=$r();t==null&&(t=[]);function _(){p(),o.call("tick",r),i<a&&(c.stop(),o.call("end",r))}function p(h){var v,w=t.length,m;h===void 0&&(h=1);for(var y=0;y<h;++y)for(i+=(f-i)*s,u.forEach(function(b){b(i)}),v=0;v<w;++v)m=t[v],m.fx==null?m.x+=m.vx*=l:(m.x=m.fx,m.vx=0),n>1&&(m.fy==null?m.y+=m.vy*=l:(m.y=m.fy,m.vy=0)),n>2&&(m.fz==null?m.z+=m.vz*=l:(m.z=m.fz,m.vz=0));return r}function x(){for(var h=0,v=t.length,w;h<v;++h){if(w=t[h],w.index=h,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),w.fz!=null&&(w.z=w.fz),isNaN(w.x)||n>1&&isNaN(w.y)||n>2&&isNaN(w.z)){var m=Fr*(n>2?Math.cbrt(.5+h):n>1?Math.sqrt(.5+h):h),y=h*Hr,b=h*Dr;n===1?w.x=m:n===2?(w.x=m*Math.cos(y),w.y=m*Math.sin(y)):(w.x=m*Math.sin(y)*Math.cos(b),w.y=m*Math.cos(y),w.z=m*Math.sin(y)*Math.sin(b))}(isNaN(w.vx)||n>1&&isNaN(w.vy)||n>2&&isNaN(w.vz))&&(w.vx=0,n>1&&(w.vy=0),n>2&&(w.vz=0))}}function g(h){return h.initialize&&h.initialize(t,d,n),h}return x(),r={tick:p,restart:function(){return c.restart(_),r},stop:function(){return c.stop(),r},numDimensions:function(h){return arguments.length?(n=Math.min(Kt,Math.max(1,Math.round(h))),u.forEach(g),r):n},nodes:function(h){return arguments.length?(t=h,x(),u.forEach(g),r):t},alpha:function(h){return arguments.length?(i=+h,r):i},alphaMin:function(h){return arguments.length?(a=+h,r):a},alphaDecay:function(h){return arguments.length?(s=+h,r):+s},alphaTarget:function(h){return arguments.length?(f=+h,r):f},velocityDecay:function(h){return arguments.length?(l=1-h,r):1-l},randomSource:function(h){return arguments.length?(d=h,u.forEach(g),r):d},force:function(h,v){return arguments.length>1?(v==null?u.delete(h):u.set(h,g(v)),r):u.get(h)},find:function(){var h=Array.prototype.slice.call(arguments),v=h.shift()||0,w=(n>1?h.shift():null)||0,m=(n>2?h.shift():null)||0,y=h.shift()||1/0,b=0,A=t.length,M,T,E,k,N,$;for(y*=y,b=0;b<A;++b)N=t[b],M=v-N.x,T=w-(N.y||0),E=m-(N.z||0),k=M*M+T*T+E*E,k<y&&($=N,y=k);return $},on:function(h,v){return arguments.length>1?(o.on(h,v),r):o.on(h)}}}function Kr(){var t,e,n,r,i,a=G(-30),s,f=1,l=1/0,u=.81;function c(p){var x,g=t.length,h=(e===1?ye(t,pt):e===2?te(t,pt,Zt):e===3?xe(t,pt,Zt,jr):null).visitAfter(d);for(i=p,x=0;x<g;++x)n=t[x],h.visit(_)}function o(){if(t){var p,x=t.length,g;for(s=new Array(x),p=0;p<x;++p)g=t[p],s[g.index]=+a(g,p,t)}}function d(p){var x=0,g,h,v=0,w,m,y,b,A=p.length;if(A){for(w=m=y=b=0;b<A;++b)(g=p[b])&&(h=Math.abs(g.value))&&(x+=g.value,v+=h,w+=h*(g.x||0),m+=h*(g.y||0),y+=h*(g.z||0));x*=Math.sqrt(4/A),p.x=w/v,e>1&&(p.y=m/v),e>2&&(p.z=y/v)}else{g=p,g.x=g.data.x,e>1&&(g.y=g.data.y),e>2&&(g.z=g.data.z);do x+=s[g.data.index];while(g=g.next)}p.value=x}function _(p,x,g,h,v){if(!p.value)return!0;var w=[g,h,v][e-1],m=p.x-n.x,y=e>1?p.y-n.y:0,b=e>2?p.z-n.z:0,A=w-x,M=m*m+y*y+b*b;if(A*A/u<M)return M<l&&(m===0&&(m=W(r),M+=m*m),e>1&&y===0&&(y=W(r),M+=y*y),e>2&&b===0&&(b=W(r),M+=b*b),M<f&&(M=Math.sqrt(f*M)),n.vx+=m*p.value*i/M,e>1&&(n.vy+=y*p.value*i/M),e>2&&(n.vz+=b*p.value*i/M)),!0;if(p.length||M>=l)return;(p.data!==n||p.next)&&(m===0&&(m=W(r),M+=m*m),e>1&&y===0&&(y=W(r),M+=y*y),e>2&&b===0&&(b=W(r),M+=b*b),M<f&&(M=Math.sqrt(f*M)));do p.data!==n&&(A=s[p.data.index]*i/M,n.vx+=m*A,e>1&&(n.vy+=y*A),e>2&&(n.vz+=b*A));while(p=p.next)}return c.initialize=function(p,...x){t=p,r=x.find(g=>typeof g=="function")||Math.random,e=x.find(g=>[1,2,3].includes(g))||2,o()},c.strength=function(p){return arguments.length?(a=typeof p=="function"?p:G(+p),o(),c):a},c.distanceMin=function(p){return arguments.length?(f=p*p,c):Math.sqrt(f)},c.distanceMax=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c.theta=function(p){return arguments.length?(u=p*p,c):Math.sqrt(u)},c}function Zr(t,e,n,r){var i,a,s=G(.1),f,l;typeof t!="function"&&(t=G(+t)),e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function u(o){for(var d=0,_=i.length;d<_;++d){var p=i[d],x=p.x-e||1e-6,g=(p.y||0)-n||1e-6,h=(p.z||0)-r||1e-6,v=Math.sqrt(x*x+g*g+h*h),w=(l[d]-v)*f[d]*o/v;p.vx+=x*w,a>1&&(p.vy+=g*w),a>2&&(p.vz+=h*w)}}function c(){if(i){var o,d=i.length;for(f=new Array(d),l=new Array(d),o=0;o<d;++o)l[o]=+t(i[o],o,i),f[o]=isNaN(l[o])?0:+s(i[o],o,i)}}return u.initialize=function(o,...d){i=o,a=d.find(_=>[1,2,3].includes(_))||2,c()},u.strength=function(o){return arguments.length?(s=typeof o=="function"?o:G(+o),c(),u):s},u.radius=function(o){return arguments.length?(t=typeof o=="function"?o:G(+o),c(),u):t},u.x=function(o){return arguments.length?(e=+o,u):e},u.y=function(o){return arguments.length?(n=+o,u):n},u.z=function(o){return arguments.length?(r=+o,u):r},u}export{J as E,Ze as G,Wr as T,Gr as a,Qr as b,Vr as c,Ke as d,Kr as e,Zr as f,Yr as g,Xr as h,fn as i,Ce as p,Br as s,S as t};
