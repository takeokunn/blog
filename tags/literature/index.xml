<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Literature on takeokunn's blog</title><link>https://www.takeokunn.org/tags/literature/</link><description>Recent content in Literature on takeokunn's blog</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Thu, 25 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://www.takeokunn.org/tags/literature/index.xml" rel="self" type="application/rss+xml"/><item><title>「The Rust Programming Language 日本語版」の読書記録</title><link>https://www.takeokunn.org/posts/literature/therustp1-online/</link><pubDate>Thu, 25 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.takeokunn.org/posts/literature/therustp1-online/</guid><description>&lt;h2 id="文献情報"&gt;文献情報&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;出典: &lt;a href="https://doc.rust-jp.rs/book-ja/title-page.html"&gt;The Rust Programming Language 日本語版&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;著者: Rust日本語ドキュメント翻訳プロジェクト&lt;/li&gt;
&lt;li&gt;参照日: 2025-12-25&lt;/li&gt;
&lt;li&gt;種別: オンライン書籍&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="読む目的-背景"&gt;読む目的・背景&lt;/h2&gt;
&lt;p&gt;社内でRustを使っているため、業務で必要な知識として勉強する必要があった。
他言語で得た知識で知ったかぶりせず、Rust固有の概念を正確に理解したい。
特に所有権・借用・ライフタイム・スマートポインタといった概念の本質を理解することを目標とした。&lt;/p&gt;
&lt;h2 id="重要ポイントと引用"&gt;重要ポイントと引用&lt;/h2&gt;
&lt;h3 id="所有権-ownership"&gt;所有権（Ownership）&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Rustの各値は、所有者と呼ばれる変数と対応している。いかなる時も所有者は一つである。所有者がスコープから外れたら、値は破棄される。&lt;/p&gt;
&lt;p&gt;&amp;mdash; &lt;a href="https://doc.rust-jp.rs/book-ja/ch04-01-what-is-ownership.html"&gt;第4章 所有権を理解する&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;所有権はRustのもっとも特徴的な機能であり、ガベージコレクタなしでメモリ安全性を保証する仕組みになっている。
C/C++ではプログラマが手動でメモリを管理する必要があり、解放忘れ（メモリリーク）や二重解放といったバグが発生しやすかった。
一方、JavaやPythonなどのGC言語では実行時のオーバーヘッドが発生する。
Rustは所有権システムによって、コンパイル時にメモリ管理の正しさを検証し、実行時コストなしで安全性を実現している。&lt;/p&gt;
&lt;p&gt;所有権には3つのルールがある。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Rustの各値は所有者と呼ばれる変数をもつ&lt;/li&gt;
&lt;li&gt;いかなる時も所有者は1つだけ&lt;/li&gt;
&lt;li&gt;所有者がスコープから外れると、値は破棄される（ &lt;code&gt;drop&lt;/code&gt; が呼ばれる）。&lt;/li&gt;
&lt;/ol&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-rust" data-lang="rust"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fn&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;let&lt;/span&gt; s1 &lt;span style="color:#f92672"&gt;=&lt;/span&gt; String::from(&lt;span style="color:#e6db74"&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;); &lt;span style="color:#75715e"&gt;// s1が所有者
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;let&lt;/span&gt; s2 &lt;span style="color:#f92672"&gt;=&lt;/span&gt; s1; &lt;span style="color:#75715e"&gt;// 所有権がs2にムーブ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#75715e"&gt;// println!(&amp;#34;{}&amp;#34;, s1); // エラー: s1は無効
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;println!&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;{}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;, s2); &lt;span style="color:#75715e"&gt;// OK: s2が所有者
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ヒープに確保されるデータ（ &lt;code&gt;String&lt;/code&gt; など）は代入時に所有権がムーブする。
スタックに確保される固定サイズのデータ（整数など）は &lt;code&gt;Copy&lt;/code&gt; トレイトを実装しており、コピーされる。&lt;/p&gt;
&lt;h3 id="借用-borrowing"&gt;借用（Borrowing）&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;関数の引数に参照を取ることを借用と呼びます。現実生活のように、誰かが何かを所有していたら、それを借りることができます。用が済んだら、返さなきゃいけないわけです。&lt;/p&gt;
&lt;p&gt;&amp;mdash; &lt;a href="https://doc.rust-jp.rs/book-ja/ch04-02-references-and-borrowing.html"&gt;第4章 参照と借用&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;借用は所有権をムーブせずにデータにアクセスする仕組みになっている。
関数に値を渡すたびに所有権が移動すると、呼び出し元で値が使えなくなり不便になる。
借用を使えば、所有権を保持したまま一時的にデータへのアクセスを許可できる。&lt;/p&gt;
&lt;p&gt;借用には2種類ある。
不変参照（ &lt;code&gt;&amp;amp;T&lt;/code&gt; ）は読み取り専用で、同時に複数存在できる。
可変参照（ &lt;code&gt;&amp;amp;mut T&lt;/code&gt; ）は書き込み可能だが、同時に1つしか存在できない。&lt;/p&gt;</description></item></channel></rss>